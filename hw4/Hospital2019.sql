/*
	Hospital2019.sql
	Eric J. Schwabe
	October 7th, 2019

	Script to set up DOCTOR, PATIENT, PROCEDURE, SCHEDULE, VISIT tables
	for CSC 355 Assignment 4
	For use in assignment only -- do not copy...
*/

DROP TABLE DOCTOR CASCADE CONSTRAINTS;

DROP TABLE SCHEDULE CASCADE CONSTRAINTS;

DROP TABLE PROCEDURE CASCADE CONSTRAINTS;

DROP TABLE VISIT CASCADE CONSTRAINTS;

DROP TABLE PATIENT CASCADE CONSTRAINTS;

CREATE TABLE DOCTOR
(
	ID		CHAR(4)		PRIMARY KEY,
	Name		VARCHAR2(20),
	MedicalGroup	NUMBER(3)
);

CREATE TABLE PATIENT
(
	ID		CHAR(7)
			PRIMARY KEY,
	LastName	VARCHAR2(20),
	FirstName	VARCHAR2(20),
	DoctorID	CHAR(4)		REFERENCES DOCTOR(ID),
	Gender		CHAR(1),
	Age		NUMBER(3),
	Insurance	VARCHAR2(30)
);

CREATE TABLE PROCEDURE
(
	Code		CHAR(3)
			PRIMARY KEY,
	Description	VARCHAR2(20),
	Cost		NUMBER(7,2)
);

CREATE TABLE SCHEDULE
(
	PID		CHAR(7)		REFERENCES PATIENT(ID),
	PCode		CHAR(3)		REFERENCES PROCEDURE(Code),
	ProcedureDate	DATE,
	PRIMARY KEY (PID, PCode)
);

CREATE TABLE VISIT
(
	PID		CHAR(7)		REFERENCES PATIENT(ID),
	AdmissionDate	DATE,
	DischargeDate	DATE,
	PRIMARY KEY (PID, AdmissionDate)
);

INSERT INTO DOCTOR
	VALUES ('K175', 'Knudtson', 447);
INSERT INTO DOCTOR
	VALUES ('M223', 'Martin', 281);
INSERT INTO DOCTOR
	VALUES ('D101', 'Doom', 447);
INSERT INTO DOCTOR
	VALUES ('W998', 'Who', 101);
INSERT INTO DOCTOR
	VALUES ('S482', 'Strange', 281);
INSERT INTO DOCTOR
	VALUES ('N007', 'No', 281);

INSERT INTO PATIENT
	VALUES ('1123445', 'Schwabe', 'Eric', 'K175', 'M', 55, 'HMO Illinois');
INSERT INTO PATIENT
	VALUES ('9001238', 'Wilson', 'John', 'M223', 'M', 72, 'Medicare');
INSERT INTO PATIENT
	VALUES ('6776775', 'Wu', 'Vivian', 'D101', 'F', 36, 'BCBS PPO');
INSERT INTO PATIENT
	VALUES ('8001203', 'Gonzalez', 'Juan', 'D101', 'M', 48, 'HMO Illinois');
INSERT INTO PATIENT
	VALUES ('1787433', 'Thompson', 'Robert', 'W998', 'M', 68, 'Medicare');
INSERT INTO PATIENT
	VALUES ('8344432', 'Singh', 'Anita', 'M223', 'F', 50, 'HMO Illinois');
INSERT INTO PATIENT
	VALUES ('2322410', 'Harding', 'Virginia', 'M223', 'F', 67, 'Medicare');
INSERT INTO PATIENT
	VALUES ('5434533', 'Richards', 'Reed', 'D101', 'M', 43, 'HMO Illinois');

INSERT INTO PROCEDURE
	VALUES ('517', 'Tonsillectomy', 1200.00);
INSERT INTO PROCEDURE
	VALUES ('332', 'Electrocardiogram', 650.00);
INSERT INTO PROCEDURE
	VALUES ('339', 'Colonscopy', 5500.00);
INSERT INTO PROCEDURE 
	VALUES ('901', 'Heart Bypass', 7500.00);
INSERT INTO PROCEDURE
	VALUES ('133', 'General Anesthesia', 1000.00);
INSERT INTO PROCEDURE
	VALUES ('250', 'Flu Shot', 50.00);

INSERT INTO SCHEDULE
	VALUES ('1123445', '332', DATE '2019-07-01');
INSERT INTO SCHEDULE
	VALUES ('1787433', '332', DATE '2019-09-15');
INSERT INTO SCHEDULE
	VALUES ('1787433', '133', DATE '2019-09-30');
INSERT INTO SCHEDULE
	VALUES ('1787433', '901', DATE '2019-09-30');
INSERT INTO SCHEDULE
	VALUES ('8344432', '339', DATE '2019-09-30');
INSERT INTO SCHEDULE
	VALUES ('6776775', '332', DATE '2019-10-01');
INSERT INTO SCHEDULE
	VALUES ('6776775', '250', DATE '2019-10-12');
INSERT INTO SCHEDULE
	VALUES ('5434533', '332', DATE '2019-10-12');

INSERT INTO VISIT
	VALUES ('1123445', DATE '2019-07-01', DATE '2019-07-02');
INSERT INTO VISIT
	VALUES ('1787433', DATE '2019-09-15', DATE '2019-09-15');
INSERT INTO VISIT
	VALUES ('1787433', DATE '2019-09-29', DATE '2019-10-03');
INSERT INTO VISIT
	VALUES ('6776775', DATE '2019-10-01', DATE '2019-10-02');
INSERT INTO VISIT
	VALUES ('8001203', DATE '2019-09-29', NULL);
INSERT INTO VISIT
	VALUES ('8344432', DATE '2019-09-30', DATE '2019-09-30');
INSERT INTO VISIT 
	VALUES ('6776775', DATE '2019-10-12', DATE '2019-10-12');

SELECT * FROM DOCTOR;

SELECT * FROM PATIENT;

SELECT * FROM PROCEDURE;

SELECT * FROM SCHEDULE;

SELECT * FROM VISIT;



