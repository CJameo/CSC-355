/*
	Books.sql
	Eric J. Schwabe
	September 30th, 2019

	Script to set up LIBRARY, BOOKORDER, LINEITEM, BOOK tables
	for CSC 355 Assignment 3
	Sample data modified from Modern Database Management (7th edition),
		Hoffer, Prescott, McFadden	
	For use in assignment only -- do not copy...
*/

-- drop tables
DROP TABLE BOOKORDER CASCADE CONSTRAINTS;
DROP TABLE BOOK CASCADE CONSTRAINTS;
DROP TABLE LIBRARY CASCADE CONSTRAINTS;
-- create and link tables
CREATE TABLE LIBRARY
(
	ID		INTEGER,
	Name		VARCHAR2(40),
	City		VARCHAR2(20),
	State		CHAR(2),
	Zip		CHAR(5),
	CONSTRAINT PK_LIBRARY
		PRIMARY KEY (ID)
);
CREATE TABLE BOOK
(
	ISBN		CHAR(10),
	Title		VARCHAR2(30),
	Author		VARCHAR2(30),
	Year		NUMBER(4),
	Price		NUMBER(5,2),
	CONSTRAINT PK_BOOK
		PRIMARY KEY (ISBN)
);
CREATE TABLE BOOKORDER
(	OrderID		CHAR(6),
	OrderDate	DATE,
	LibraryID	INTEGER,
	ISBN		CHAR(10),
	Copies		NUMBER(3)	
			CHECK (Copies >= 1),
	CONSTRAINT PK_BOOKORDER
		PRIMARY KEY (OrderID),
	CONSTRAINT FK_BOOKORDER_LIBRARY
		FOREIGN KEY (LibraryID)
		REFERENCES LIBRARY(ID),
	CONSTRAINT FK_BOOKORDER_BOOK
		FOREIGN KEY (ISBN)
		REFERENCES BOOK(ISBN)
);
-- populate tables
INSERT INTO LIBRARY VALUES
	(1, 'Newburgh Free Library', 'Newburgh', 'NY', '12550');
INSERT INTO LIBRARY VALUES
	(2, 'Hauppauge Library', 'Hauppauge', 'NY', '11788');
INSERT INTO LIBRARY VALUES
	(3, 'Three Rivers Library', 'Pittsburgh', 'PA', '15213');
INSERT INTO LIBRARY VALUES
	(4, 'Hawaii Public Library (Kaneohe Branch)', 'Kaneohe', 'HI', '96744');
INSERT INTO LIBRARY VALUES
	(5, 'John Wayne Library', 'Irvine', 'CA', '92612');
INSERT INTO LIBRARY VALUES
	(6, 'Santa Fe Public Library', 'Santa Fe', 'NM', '87507');
INSERT INTO LIBRARY VALUES
	(7, 'Free Open Library', 'San Francisco', 'CA', '94121');
INSERT INTO LIBRARY VALUES
	(8, 'Central Library of Miami', 'Miami', 'FL', '33101');
INSERT INTO LIBRARY VALUES
	(9, 'OC Branch, Library of Oregon', 'Oregon City', 'OR', '97045');
INSERT INTO LIBRARY VALUES
	(10, 'Albany NY Library (Main Branch)', 'Albany', 'NY', '12209');
INSERT INTO LIBRARY VALUES
	(11, 'South Hills Library', 'Bethel Park', 'PA', '15228');
INSERT INTO LIBRARY VALUES
	(12, 'Lee County Library, Beachside Branch', 'Fort Myers', 'FL', '33901');
INSERT INTO LIBRARY VALUES
	(13, 'Free Public Library of Boulder', 'Boulder', 'CO', '80514');
INSERT INTO LIBRARY VALUES
	(14, 'Ann Arbor Main Library', 'Ann Arbor', 'MI', '48103');
INSERT INTO LIBRARY VALUES
	(15, 'Public Library of Newark', 'Newark', 'NJ', '07201');
INSERT INTO LIBRARY VALUES
	(16, 'Fair Lawn Library', 'Fair Lawn', 'NJ', '07410');
INSERT INTO LIBRARY VALUES
	(17, 'Main Library of Seminole', 'Seminole', 'FL', '34646');
INSERT INTO BOOK VALUES
	('0374104115', 'Acceptance', 'Jeff Vandermeer', 2017, 7.99);	
INSERT INTO BOOK VALUES
	('0374104093', 'Annihilation', 'Jeff Vandermeer', 2015, 9.99);	
INSERT INTO BOOK VALUES
	('0374104107', 'Authority', 'Jeff Vandermeer', 2013, 10.99);	
INSERT INTO BOOK VALUES
	('0441011160', 'Coyote', 'Allen Steele', 2008, 4.99);
INSERT INTO BOOK VALUES
	('0441013570', 'Coyote Frontier', 'Allen Steele', 2010, 5.99);
INSERT INTO BOOK VALUES
	('0441012515', 'Coyote Rising', 'Allen Steele', 2013, 6.99);
INSERT INTO BOOK VALUES
	('0316262315', 'New York 2140', 'Kim Stanley Robinson', 2013, 12.99);	
INSERT INTO BOOK VALUES
	('0316098116', '2312', 'Kim Stanley Robinson', 2008, 8.99);
INSERT INTO BOOK VALUES
	('0374537658', 'Borne', 'Jeff Vandermeer', 2018, 11.99);
INSERT INTO BOOKORDER VALUES
	(10011, DATE '2016-07-30', 8, '0441011160', 2);
INSERT INTO BOOKORDER VALUES
	(10012, DATE '2016-07-30', 8, '0374104115', 1);
INSERT INTO BOOKORDER VALUES
	(10013, DATE '2016-07-30', 8, '0374104107', 1);
INSERT INTO BOOKORDER VALUES
	(10021, DATE '2016-07-30', 5, '0374104093', 3);
INSERT INTO BOOKORDER VALUES
	(10031, DATE '2016-09-28', 10, '0374104093', 4);
INSERT INTO BOOKORDER VALUES
	(10041, DATE '2016-11-15', 13, '0316262315', 1);
INSERT INTO BOOKORDER VALUES
	(10042, DATE '2016-11-15', 13, '0374104107', 1);
INSERT INTO BOOKORDER VALUES
	(10051, DATE '2017-02-03', 17, '0374104107', 4);
INSERT INTO BOOKORDER VALUES
	(10061, DATE '2017-02-03', 4, '0374104107', 2);
INSERT INTO BOOKORDER VALUES
	(10062, DATE '2017-02-03', 4, '0374104093', 2);
INSERT INTO BOOKORDER VALUES
	(10063, DATE '2017-02-03', 4, '0374104115', 2);
INSERT INTO BOOKORDER VALUES
	(10071, DATE '2017-04-04', 13, '0441011160', 4);
INSERT INTO BOOKORDER VALUES
	(10072, DATE '2017-04-04', 13, '0374104115', 4);
INSERT INTO BOOKORDER VALUES
	(10081, DATE '2017-06-01', 17, '0374104093', 1);
INSERT INTO BOOKORDER VALUES
	(10082, DATE '2017-06-01', 17, '0316262315', 1);
INSERT INTO BOOKORDER VALUES
	(10101, DATE '2017-06-01', 13, '0374104107', 3);
INSERT INTO BOOKORDER VALUES
	(10102, DATE '2017-06-01', 13, '0441013570', 4);
INSERT INTO BOOKORDER VALUES
	(10111, DATE '2018-02-15', 10, '0316262315', 3);
INSERT INTO BOOKORDER VALUES
	(10121, DATE '2018-02-15', 1, '0441011160', 1);
INSERT INTO BOOKORDER VALUES
	(10131, DATE '2018-02-15', 4, '0441011160', 2);
INSERT INTO BOOKORDER VALUES
	(10132, DATE '2018-02-15', 4, '0316098116', 1);
COMMIT;
-- display tables
SELECT * FROM LIBRARY;
SELECT * FROM BOOK;
SELECT * FROM BOOKORDER;
